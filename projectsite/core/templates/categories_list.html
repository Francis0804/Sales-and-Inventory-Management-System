{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container mt-4">
  <div class="row mb-2">
    <div class="col-md-6"><h4>Categories</h4></div>
    <div class="col-md-6 text-end">
      <a href="{% url 'categories-add' %}" class="btn btn-success btn-rounded">Add Category</a>
    </div>
  </div>

  <!-- Search -->
  <form method="get" class="mb-3">
    <input type="text" name="q" class="form-control" placeholder="Search categories..."
           value="{{ request.GET.q }}">
  </form>

  <div class="card">
    <div class="card-body">

      <table class="table table-striped">
        <thead>
          <tr><th>Name</th><th>Description</th><th>Actions</th></tr>
        </thead>

        <tbody>
          {% for category in categories %}
            <tr>
              <td>{{ category.name }}</td>
              <td>{{ category.description|default:"-" }}</td>
              <td>
                <a class="btn btn-sm btn-primary" href="{% url 'categories-edit' category.pk %}">Edit</a>
                <a class="btn btn-sm btn-danger" href="{% url 'categories-delete' category.pk %}">Delete</a>
              </td>
            </tr>
          {% empty %}
            <tr><td colspan="3" class="text-center">No categories found.</td></tr>
          {% endfor %}
        </tbody>
      </table>

      {% include 'includes/pagination.html' %}
    </div>
  </div>
</div>
{% endblock %}
