{% extends 'base.html' %}

{% block title %}User Details - {{ user_obj.username }}{% endblock %}

{% block content %}

<div class="mb-4">
  <a href="{% url 'user-list' %}" class="btn btn-sm btn-secondary mb-3">
    <i class="bi bi-chevron-left"></i> Back to Users
  </a>
  <h2 class="mb-1">{{ user_obj.username }}</h2>
  <p class="text-muted">User profile and account information.</p>
</div>

<div class="row">
  <!-- User Info Card -->
  <div class="col-lg-6">
    <div class="card">
      <div class="card-header bg-light">
        <h6 class="mb-0">Account Information</h6>
      </div>
      <div class="card-body">
        <div class="mb-3">
          <label class="form-label text-muted">Username</label>
          <p>{{ user_obj.username }}</p>
        </div>
        <div class="mb-3">
          <label class="form-label text-muted">Email</label>
          <p>{{ user_obj.email }}</p>
        </div>
        <div class="mb-3">
          <label class="form-label text-muted">Full Name</label>
          <p>{{ user_obj.get_full_name|default:"-" }}</p>
        </div>
        <div class="mb-3">
          <label class="form-label text-muted">User Role</label>
          <p>
            {% if user_obj.is_staff %}
              <span class="badge bg-danger">Admin</span>
            {% else %}
              <span class="badge bg-secondary">Staff</span>
            {% endif %}
          </p>
        </div>
        <div class="mb-3">
          <label class="form-label text-muted">Joined</label>
          <p>{{ user_obj.date_joined|date:"F d, Y H:i" }}</p>
        </div>
        <div class="mb-3">
          <label class="form-label text-muted">Last Login</label>
          <p>{% if user_obj.last_login %}{{ user_obj.last_login|date:"F d, Y H:i" }}{% else %}Never{% endif %}</p>
        </div>
        <a href="{% url 'assign-role' user_obj.id %}" class="btn btn-warning btn-sm">
          <i class="bi bi-gear"></i> Change Role
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock %}
